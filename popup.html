<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>FatGPT</title>
    <style>
      :root {
        --bg: #0b0f19; /* deep slate */
        --panel: #111318; /* card */
        --border: #1f2430; /* subtle border */
        --text: #e5e7eb; /* slate-200 */
        --muted: #9ca3af; /* slate-400 */
        --accent: #10a37f; /* OpenAI green-ish */
        --accent-2: #16bd8b; /* hover accent */
      }

      html,
      body {
        background: var(--bg);
        color: var(--text);
      }
      body {
        font: 14px ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, "Noto Sans";
        margin: 0;
        min-width: 280px;
        padding: 10px;
      }

      .card {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
      }

      .top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 10px;
      }
      .title {
        font-weight: 700;
        letter-spacing: 0.2px;
      }
      .meta {
        font-size: 12px;
        color: var(--muted);
      }

      .row {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 10px;
        align-items: center;
        margin-top: 6px;
      }
      label {
        color: var(--muted);
      }

      input[type="number"] {
        width: 96px;
        background: transparent;
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 6px 8px;
        outline: none;
      }
      input[type="number"]:focus {
        border-color: var(--accent);
        /* If color-mix isn’t supported, this just no-ops. */
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 35%, transparent);
      }

      /* Range styling */
      input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 6px;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        border-radius: 999px;
        outline: none;
      }
      input[type="range"]::-webkit-slider-thumb,
      input[type="range"]::-moz-range-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: var(--accent);
        border: 2px solid #fff;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
        cursor: pointer;
      }
      input[type="range"]::-moz-range-track {
        height: 6px;
        background: transparent;
      }

      .btn {
        margin-top: 10px;
        width: 100%;
        border: 1px solid var(--border);
        background: transparent;
        color: var(--text);
        padding: 8px 10px;
        border-radius: 8px;
        cursor: pointer;
      }
      .btn:hover {
        border-color: var(--accent);
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 20%, transparent)
          inset;
      }

      .footer {
        margin-top: 12px;
        padding-top: 10px;
        border-top: 1px solid var(--border);
        color: var(--muted);
        font-size: 12px;
        display: grid;
        gap: 8px;
      }

      /* “kbd” buttons for rebinding */
      .kbd {
        appearance: none;
        -webkit-appearance: none;
        background: rgba(255, 255, 255, 0.05);
        color: var(--text);
        border: 1px solid var(--border);
        border-bottom-width: 2px;
        border-radius: 6px;
        padding: 2px 8px;
        cursor: pointer;
        user-select: none;
        font: 12px ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      .kbd:hover {
        border-color: var(--accent);
      }
      .kbd:focus-visible {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <div class="top">
        <div class="title">FatGPT</div>
        <div class="meta">
          Cap: <span id="capPx">—</span> · Mode: <span id="mode">—</span>
        </div>
      </div>

      <div class="row">
        <label for="widthPx">Max width (px)</label>
        <input id="widthPx" type="number" min="600" max="5000" step="10" />
      </div>
      <input
        id="slider"
        type="range"
        min="600"
        max="5000"
        step="10"
        style="margin-top: 8px"
      />
      <button id="reset" class="btn">Reset to native (remove override)</button>

      <div class="footer">
        <div><strong>Shortcuts</strong></div>
        <div>
          Wider: <button id="bind-wider" class="kbd">Alt + ]</button> &nbsp;
          Narrower:
          <button id="bind-narrower" class="kbd">Alt + [</button> &nbsp; Native:
          <button id="bind-native" class="kbd">Alt + 0</button>
        </div>
        <div>Click a shortcut, then press new keys to set.</div>
      </div>
      <button id="reset-shortcuts" class="btn" style="margin-top: 4px">
        Reset shortcuts to defaults
      </button>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
